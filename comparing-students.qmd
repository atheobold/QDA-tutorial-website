---
title: "Optional: Comparing Across Students"
page-layout: full
reference-location: margin
citation-location: margin
bibliography: ref-1.bib
execute: 
  echo: false
---

```{r}
#| include: false

library(readxl)
library(DT)
library(tidyverse)

studentA <- read_xlsx(
  here::here("data", "code_book.xlsx"), 
  sheet = "studentA"
  ) %>% 
  pivot_longer(cols = starts_with("note"), 
               names_to = "note", 
               values_to = "notes"
               ) %>% 
  drop_na(notes) %>% 
  pivot_longer(cols = starts_with("theme"),
               names_to = "theme", 
               values_to = "theme_note"
              ) %>% 
  drop_na(theme_note) %>% 
  mutate(notes = 
           case_when(
             note == "note1" & theme == "theme1" ~ notes, 
             note == "note2" & theme == "theme2" ~ notes,
             note == "note3" & theme == "theme3" ~ notes,
             note == "note4" & theme == "theme4" ~ notes
           )
         ) %>% 
  drop_na(notes) %>% 
  select(code, descriptive_code, theme_note, notes) %>% 
  mutate(student = "studentA")


studentB <- read_xlsx(
  here::here("data", "code_book.xlsx"), 
  sheet = "studentB"
  ) %>% 
  pivot_longer(cols = starts_with("note"), 
               names_to = "note", 
               values_to = "notes"
               ) %>% 
  drop_na(notes) %>% 
  pivot_longer(cols = starts_with("theme"),
               names_to = "theme", 
               values_to = "theme_note"
              ) %>% 
  drop_na(theme_note) %>% 
  mutate(notes = 
           case_when(
             note == "note1" & theme == "theme1" ~ notes, 
             note == "note2" & theme == "theme2" ~ notes,
             note == "note3" & theme == "theme3" ~ notes,
             note == "note4" & theme == "theme4" ~ notes
           )
         ) %>% 
  drop_na(notes) %>% 
  select(code, descriptive_code, theme_note, notes) %>% 
  mutate(student = "studentA")

students <- full_join(studentA, 
                      studentB, 
                      by = c("code", 
                             "descriptive_code",
                             "theme_note",
                             "notes",
                             "student")
                      )
```

### Workflow

<!-- How code comments were used between the two students -->
<!-- How objects were inspected in the code vs. in the console -->

::: {.column-margin}
![](images/workflow.png)
:::

```{r}
students %>% 
  filter(theme_note == "workflow") %>%
  distinct(code, .keep_all = TRUE) %>% 
  select(code, descriptive_code, student) %>% 
  datatable(class = 'row-border stripe', 
            colnames = c("R Code", "Descriptive Code", "Student")
            )

```


### Efficiency / Inefficiency

<!-- Repeated tasks differences between students -->

::: {.column-margin}
![](images/efficient.png)
:::

```{r}
students %>% 
  filter(theme_note %in% c("inefficiency", "efficiency")) %>%
  distinct(code, .keep_all = TRUE) %>% 
  select(code, descriptive_code, student) %>% 
  datatable(class = 'row-border stripe', 
            colnames = c("R Code", "Descriptive Code", "Student")
            )
```



### Readability 

<!-- Use of whitespace around delimiters, named arguments, new lines for long code  -->

::: {.column-margin}
![](images/read.png)
:::

### Reproducibility

<!-- No data loading code in Student A -->
<!-- Student A had code that wouldn't run (required a package be loaded but wasn't until later, reference to non-existant objects) -->

<!-- Student B had all used functions / data sourced in to R script -->
<!-- Still, the project would be difficult to share as there was a mix of full paths -->
<!-- and relative paths which another user would need to modify -->
<!-- Keep in mind RStudio projects were not a thing when these students were completing their project -->

::: {.column-margin}
![](images/reproduce.png)
:::

### Data Visualization

<!-- They both rotate their y-axis labels -- artifact of instruction -->
A: So, the code that you found on the internet, did it have this format? Like, with the data, plot y ~ x? And then this piece, but this piece is different. It’s not, like not, most people don’t use that piece.  
M: Oh, that’s a Kezia piece. 
